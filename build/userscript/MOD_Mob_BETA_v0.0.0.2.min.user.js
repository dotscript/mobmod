// ==UserScript==
// @name MOD {B.E.T.A} [MOB Wars]
// @namespace http://screepts.com
// @version 0.0.0.1
// @description MOB Wars - MOD Beta version. you must be in this group http://www.facebook.com/groups/modsBetaScripts/
// @copyright 2016 screepts.com
// @include *://mobwars-prod-ssl.metamoki.com/*
// @include *://apps.facebook.com/mobwars/*
// @include *://lb0.mw.production.monstergamesinc.com/*
// @include *://lb.mobwars.metamoki.com/*
// @match *://mobwars-prod-ssl.metamoki.com/*
// @match *://apps.facebook.com/mobwars/*
// @match *://lb0.mw.production.monstergamesinc.com/*
// @match *://lb.mobwars.metamoki.com/*
// @icon           http://mwscripts.screepts.netdna-cdn.com/images/lucifersicon.jpg
// @grant 		    GM_xmlhttpRequest
// @grant       	GM_getValue
// @grant       	GM_setValue
// @grant       	GM_deleteValue
// @grant          	GM_addStyle
// @grant          	unsafeWindow
// ==/UserScript==

/** end of firefox.meta **/
var modWrapper="("+function($){function create(t){if(null===t||"object"!=typeof t)return t;var e=t.constructor();for(var n in t)e[n]=create(t[n]);return e}!function(t,e){function n(){v=y=Z=N=W=F=w}function o(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function i(t){return parseFloat(t)||0}function r(){G={top:e.pageYOffset,left:e.pageXOffset}}function a(){return e.pageXOffset!=G.left?(r(),void Z()):void(e.pageYOffset!=G.top&&(r(),l()))}function c(){setTimeout(function(){e.pageYOffset!=G.top&&(G.top=e.pageYOffset,l())},0)}function l(){for(var t=E.length-1;t>=0;t--)g(E[t])}function g(t){if(t.inited){var e=G.top<=t.limit.start?0:G.top>=t.limit.end?2:1;t.mode!=e&&f(t,e)}}function s(){for(var t=E.length-1;t>=0;t--)if(E[t].inited){var e=Math.abs(h(E[t].clone)-E[t].docOffsetTop),n=Math.abs(E[t].parent.node.offsetHeight-E[t].parent.height);if(e>=2||n>=2)return!1}return!0}function d(t){isNaN(parseFloat(t.computed.top))||t.isCell||"none"==t.computed.display||(t.inited=!0,t.clone||C(t),"absolute"!=t.parent.computed.position&&"relative"!=t.parent.computed.position&&(t.parent.node.style.position="relative"),g(t),t.parent.height=t.parent.node.offsetHeight,t.docOffsetTop=h(t.clone))}function u(t){var e=!0;t.clone&&A(t),o(t.node.style,t.css);for(var n=E.length-1;n>=0;n--)if(E[n].node!==t.node&&E[n].parent.node===t.parent.node){e=!1;break}e&&(t.parent.node.style.position=t.parent.css.position),t.mode=-1}function I(){for(var t=E.length-1;t>=0;t--)d(E[t])}function p(){for(var t=E.length-1;t>=0;t--)u(E[t])}function f(t,e){var n=t.node.style;switch(e){case 0:n.position="absolute",n.left=t.offset.left+"px",n.right=t.offset.right+"px",n.top=t.offset.top+"px",n.bottom="auto",n.width="auto",n.marginLeft=0,n.marginRight=0,n.marginTop=0;break;case 1:n.position="fixed",n.left=t.box.left+"px",n.right=t.box.right+"px",n.top=t.css.top,n.bottom="auto",n.width="auto",n.marginLeft=0,n.marginRight=0,n.marginTop=0;break;case 2:n.position="absolute",n.left=t.offset.left+"px",n.right=t.offset.right+"px",n.top="auto",n.bottom=0,n.width="auto",n.marginLeft=0,n.marginRight=0}t.mode=e}function C(t){t.clone=document.createElement("div");var e=t.node.nextSibling||t.node,n=t.clone.style;n.height=t.height+"px",n.width=t.width+"px",n.marginTop=t.computed.marginTop,n.marginBottom=t.computed.marginBottom,n.marginLeft=t.computed.marginLeft,n.marginRight=t.computed.marginRight,n.padding=n.border=n.borderSpacing=0,n.fontSize="1em",n.position="static",n.cssFloat=t.computed.cssFloat,t.node.parentNode.insertBefore(t.clone,e)}function A(t){t.clone.parentNode.removeChild(t.clone),t.clone=void 0}function m(t){var e=getComputedStyle(t),n=t.parentNode,o=getComputedStyle(n),r=t.style.position;t.style.position="relative";var a={top:e.top,marginTop:e.marginTop,marginBottom:e.marginBottom,marginLeft:e.marginLeft,marginRight:e.marginRight,cssFloat:e.cssFloat,display:e.display},c={top:i(e.top),marginBottom:i(e.marginBottom),paddingLeft:i(e.paddingLeft),paddingRight:i(e.paddingRight),borderLeftWidth:i(e.borderLeftWidth),borderRightWidth:i(e.borderRightWidth)};t.style.position=r;var l={position:t.style.position,top:t.style.top,bottom:t.style.bottom,left:t.style.left,right:t.style.right,width:t.style.width,marginTop:t.style.marginTop,marginLeft:t.style.marginLeft,marginRight:t.style.marginRight},g=V(t),s=V(n),d={node:n,css:{position:n.style.position},computed:{position:o.position},numeric:{borderLeftWidth:i(o.borderLeftWidth),borderRightWidth:i(o.borderRightWidth),borderTopWidth:i(o.borderTopWidth),borderBottomWidth:i(o.borderBottomWidth)}},u={node:t,box:{left:g.win.left,right:S.clientWidth-g.win.right},offset:{top:g.win.top-s.win.top-d.numeric.borderTopWidth,left:g.win.left-s.win.left-d.numeric.borderLeftWidth,right:-g.win.right+s.win.right-d.numeric.borderRightWidth},css:l,isCell:"table-cell"==e.display,computed:a,numeric:c,width:g.win.right-g.win.left,height:g.win.bottom-g.win.top,mode:-1,inited:!1,parent:d,limit:{start:g.doc.top-c.top,end:s.doc.top+n.offsetHeight-d.numeric.borderBottomWidth-t.offsetHeight-c.top-c.marginBottom}};return u}function h(t){for(var e=0;t;)e+=t.offsetTop,t=t.offsetParent;return e}function V(t){var n=t.getBoundingClientRect();return{doc:{top:n.top+e.pageYOffset,left:n.left+e.pageXOffset},win:n}}function R(){M=setInterval(function(){!s()&&Z()},500)}function U(){clearInterval(M)}function b(){T&&(document[J]?U():R())}function v(){T||(r(),I(),e.addEventListener("scroll",a),e.addEventListener("wheel",c),e.addEventListener("resize",Z),e.addEventListener("orientationchange",Z),t.addEventListener(Q,b),R(),T=!0)}function Z(){if(T){p();for(var t=E.length-1;t>=0;t--)E[t]=m(E[t].node);I()}}function N(){e.removeEventListener("scroll",a),e.removeEventListener("wheel",c),e.removeEventListener("resize",Z),e.removeEventListener("orientationchange",Z),t.removeEventListener(Q,b),U(),T=!1}function W(){N(),p()}function F(){for(W();E.length;)E.pop()}function y(t){for(var e=E.length-1;e>=0;e--)if(E[e].node===t)return;var n=m(t);E.push(n),T?d(n):v()}function k(t){for(var e=E.length-1;e>=0;e--)E[e].node===t&&(u(E[e]),E.splice(e,1))}var G,M,E=[],T=!1,S=t.documentElement,w=function(){},J="hidden",Q="visibilitychange";void 0!==t.webkitHidden&&(J="webkitHidden",Q="webkitvisibilitychange"),e.getComputedStyle||n();for(var B=["","-webkit-","-moz-","-ms-"],j=document.createElement("div"),x=B.length-1;x>=0;x--){try{j.style.position=B[x]+"sticky"}catch(Y){}""!=j.style.position&&n()}r(),e.Stickyfill={stickies:E,add:y,remove:k,init:v,rebuild:Z,pause:N,stop:W,kill:F}}(document,window),window.jQuery&&!function(t){t.fn.Stickyfill=function(){return this.each(function(){Stickyfill.add(this)}),this}}(window.jQuery);var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var e,n,o,i,r,a,c,l="",g=0;for(t=Base64._utf8_encode(t);g<t.length;)e=t.charCodeAt(g++),n=t.charCodeAt(g++),o=t.charCodeAt(g++),i=e>>2,r=(3&e)<<4|n>>4,a=(15&n)<<2|o>>6,c=63&o,isNaN(n)?a=c=64:isNaN(o)&&(c=64),l=l+this._keyStr.charAt(i)+this._keyStr.charAt(r)+this._keyStr.charAt(a)+this._keyStr.charAt(c);return l},decode:function(t){var e,n,o,i,r,a,c,l="",g=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");g<t.length;)i=this._keyStr.indexOf(t.charAt(g++)),r=this._keyStr.indexOf(t.charAt(g++)),a=this._keyStr.indexOf(t.charAt(g++)),c=this._keyStr.indexOf(t.charAt(g++)),e=i<<2|r>>4,n=(15&r)<<4|a>>2,o=(3&a)<<6|c,l+=String.fromCharCode(e),64!=a&&(l+=String.fromCharCode(n)),64!=c&&(l+=String.fromCharCode(o));return l=Base64._utf8_decode(l)},_utf8_encode:function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var o=t.charCodeAt(n);128>o?e+=String.fromCharCode(o):o>127&&2048>o?(e+=String.fromCharCode(o>>6|192),e+=String.fromCharCode(63&o|128)):(e+=String.fromCharCode(o>>12|224),e+=String.fromCharCode(o>>6&63|128),e+=String.fromCharCode(63&o|128))}return e},_utf8_decode:function(t){for(var e="",n=0,o=0,i=0;n<t.length;)o=t.charCodeAt(n),128>o?(e+=String.fromCharCode(o),n++):o>191&&224>o?(i=t.charCodeAt(n+1),e+=String.fromCharCode((31&o)<<6|63&i),n+=2):(i=t.charCodeAt(n+1),c3=t.charCodeAt(n+2),e+=String.fromCharCode((15&o)<<12|(63&i)<<6|63&c3),n+=3);return e}},global={},MOD={},Util={isString:function(t){return"string"==typeof t}};MOD.mainMenu="PGRpdiBpZD0ibW9kbW9iX21lbnVfY29udGFpbmVyIiBjbGFzcz0ic3RpY2t5IiBzdHlsZT0iZGlzcGxheTpibG9jazsiPgogICAgPHN0eWxlIHR5cGU9dGV4dC9jc3M+CiAgICAgICAgLmNsZWFyIHsKICAgICAgICAgICAgY2xlYXI6IGJvdGg7CiAgICAgICAgfQoKICAgICAgICAubWVudV9hcnJvdyB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNjQUFBQXlDQVlBQUFEZnVNSWRBQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQmRSSlJFRlVlTnJzbVd0b0hGVVV4K2ZlT3p1N3lXWk5tb2VOdTZsaUM5WnFORkFmS0VpdFNiR1BUeXArMUU4S1FrVXBnb0pTRmF6Nm9UNCtpRllGUVcxRlVGdWFOZ1Z0TVdraVdHTk5MRldoSkdLYTEyN1NQRGFiVGJMUGVYanZjbTg0ZXp1VFRUSVRVZkRDWVNiWm1aM2Yvczg5OTV4elIxSCt4UU90OEJxNzZ5Mkg4eldIUTVJcDBya0ZnQ3pKMWhST1FHQnVTRHBDSUlNZlRlbm9hcWdsUG1jUUJCeWhLUnpDNUhEUUZDOEExV1VvUi9oMVBuRDA4YzhFakU0dEQ0NTV5ZDFyQWljVVl6QithZ0ZxR2ovSC9NRU1KTWN0SzAwVnd3MGdLZkdaajhNd3FESnFGUTFibFExN0RtcHZKMlBHWDdQUndrTUQvRG9DNXFScEV6Q2VLSWZBZkZPNVNnd3N4RXdMb25Dd0Z0OXo5NU1hR2ZzdDkwRStyV1RvLzlQVUZxak5jVWdaYUZVS0VnYzNFcTVZUVMxcTExQ3JvbGF0VlNqMW0zZjVkZ1lxY2FTK0VZY0h1b3lvYVJSK2dNYnZReUJRWENsSUpEQU1Bb0NCQlRuWU9nWkdyYzRYUU5jMVBxUnRRd2dwb2ZVa1Vyc0pYVHQ4M29nYitjSTlxaFNwcmdDSlRWU0tDVjhPd0dvWkdMVjYxWS9DVFk5cVd4a2NzNm9HVWw4VlZ1cEdlb3dFQllUcm4ydEFGY3d2TEFWQUJYZGxqUUJqcG1lVmVvUngwWmRzM0I2NHliU3d2K05ncHRQSUZiNmoxRmpXSENSQU5SK1laMEVPeGhSYno4SEMxQ0xVS3U5NkxIQ0RVRTVZelkxcVZWVURycnY4b3o1am1ZdHF1VkpRQmZOTnVMU2NSK1k2b0JnRGEyRFFWRGxUbFpRVDQrYm1RSVNpTnA5K1BkVnVtY3Z5M0pJS3F0SjhFM090a3JuemlhOHJYODB0S0NTWHNqUWpieUZUdDB4VlF3Umo1NVM4WlVjZ3JGaW91ZjJ0VkZjK1k3a0NWRUZBQ0RnUm9kVlZZZC8xcTFrOGI5MVpGcUd1dnIvam5RVWx1N0I2UUZWSzhFWEJnQjNjdDV6UnVLdWNBVzc3OXNDY0NWeHNyUVJRZGNpaFRMMFF3VWh4TTI3ZlhkNmdxYmo1MUlGa2g1NnpZSzBIQXdZR2pXR25uQndVVEwxeVRJanJndkdXWFVFYVRPaUIxcGNUdWxURndLTWRhRkZ1SlpKNlpjU0ZXK0c0YlU5RmhJWlJ5OGxYNHQ4WmVxRjZ5UUFURlEyV2kxOVZLc05oK3RMY3VoV09wdDNCRFNwR0xXMXZ6TFJsNXN3a0x4SllzWkRpejhzNVpRaGtsMk85Y0d1eGdxR05hb0E4MlBiYTlNeDgzSmptSHRJNEI3RlR6ckhMOHNxdFJWRzhvMkpMcUZwOStJdG54dDlQelpveW1IQ3RwWUJHeFQ1OVlMSW10dW5PWUZQTDN1bzdwQUlWcmFqQm9aTjRUWnJsd2Q3MHhmWkRNNzAya2VvSWQxVnpySzZCVy8vNGZ2N1NOL3RqeDFPenhqd1BBdDJtdFN5Q3M2UTZyTkR1RVkrVnUzQnFkdUNyL1dObjBrbGppa2RwMWdhd1NEbDU1UmFMWXc1ajc2SzE5MlJpNU1oejBYWkR0NjdRUHhOOEtVa0J1Q1hkS2xidlBQOUZhYStpdGFkMUp2clpzOFB0OURSS2JZSmFYSUl6N0pwd1ZYS256aTltSzNlS2VMRE85WnlJeDQ0OFAzS1dubzVRR3dOd1NkNjFaYmtnaHQyY2crNFVxaFhhUEl6Y0tkZDliSHIwMDMyRG5hWmhEWExWeHFteCtUWkxiWjdEUVRCYnR3bzRvUnE3TWVIR3JUOGRuWXArK2RMUUR4eHNsSU5OVXB2aHFnbVg1a0V3T0FhRURsUmpOOGZqc2Z4d1pzNGdtWGxEeStjc1JLdGgwK2RIWlBPOWxUVkxnMDFHRDc5d3VTdWJNZ2NBMk1SS3dHQXU5WUV0aHhDdmhPdEFVeE1SUFFTNzZmRFVmZHNkWFhsOE12YmhVMzJzaHhoeUF5YlBPUkVNS1ZDMis2U0VITmJLY0tXVHU3dGJKNk1mNyswLzZ3V1lISzI2VkZOaGtKUVhFN0svakNDNzh2M2NzWW1oajU3dTY2U3VIL1VDVEE0SXhHOFVzQWlBTFhieVZMbXJzdHJQSnliN1A5blgxNUhQbU9NY3lqVVlkS3NpSldBRHdNR2RUTXNmSkJvQ1M4eXZwNmN2VXNYT3BPY0tLU25PSTlJMW1OMGlqQ1FsNGJacjRmK2hhaTBvM0hycFhPTDh1NC8vZmpTWE51ZjRpcC9nVUs3QjdLb1NlRFBpU3dzTUNLTTI0cS9HQ0NteFAxTy92UG5JaFVNVVRONmZTM29CNWxUUFFUZUx0VzlSdVZSU2p5V3U1TG8vZjdIL1BlcktDWDZOQUV4ektOZGdwYmI2NFphWXRvSTk0WXdYWUtVcVlUbm5LaURGWlpleG0rNEtiRGx3OGdzUThmQlM3eUZNTDk3a2xIcEpZdHFvK0krOXdmblB2dnR5N0djZG9sdFJQSDVyK1A5WTdmaGJnQUVBTUpyZElnalY1dFFBQUFBQVNVVk9SSzVDWUlJPSkgbm8tcmVwZWF0IGxlZnQgY2VudGVyOwogICAgICAgIH0KCiAgICAgICAgLnN0aWNreSB7CiAgICAgICAgICAgIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreTsKICAgICAgICAgICAgcG9zaXRpb246IHN0aWNreTsKICAgICAgICAgICAgdG9wOiAwOwogICAgICAgIH0KICAgICAgICAuc3RpY2t5OmJlZm9yZSwKICAgICAgICAuc3RpY2t5OmFmdGVyIHsKICAgICAgICAgICAgY29udGVudDogJyc7CiAgICAgICAgICAgIGRpc3BsYXk6IHRhYmxlOwogICAgICAgIH0KICAgICAgICAjbW9kbW9iX21lbnVfYXJyb3cgewogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgIHotaW5kZXg6IDI1OwogICAgICAgICAgICB0b3A6IDEwcHg7CiAgICAgICAgICAgIGxlZnQ6IDEwcHg7CiAgICAgICAgICAgIHdpZHRoOiA0MHB4OwogICAgICAgICAgICBoZWlnaHQ6IDQwcHgKICAgICAgICB9CgogICAgICAgICNtb2Rtb2JfbWVudSB7CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgei1pbmRleDogMzA7CiAgICAgICAgICAgIHRvcDogMXB4OwogICAgICAgICAgICAtbW96LWJvcmRlci1yYWRpdXM6IDIwcHg7CiAgICAgICAgICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogMjBweDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMjBweCAyMHB4IDIwcHggMjBweDsKICAgICAgICAgICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMCAwOwogICAgICAgICAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMjBweCAyMHB4OwogICAgICAgICAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMjBweCAyMHB4OwogICAgICAgICAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAwIDA7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDsKICAgICAgICAgICAgLW1vei1ib3gtc2hhZG93OiAycHggMnB4IDJweCBncmF5OwogICAgICAgICAgICAtd2Via2l0LWJveC1zaGFkb3c6IDJweCAycHggMnB4IGdyYXk7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDJweCAycHggMnB4IGdyYXk7CiAgICAgICAgICAgIGJvcmRlci1zdHlsZTogc29saWQ7CiAgICAgICAgICAgIGJvcmRlci13aWR0aDogMnB4CiAgICAgICAgfQoKICAgICAgICAjbW9kbW9iX21lbnUgdWwgewogICAgICAgICAgICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDAwMTg7CiAgICAgICAgICAgIG1hcmdpbjogMDsKICAgICAgICAgICAgcGFkZGluZzogMAogICAgICAgIH0KCiAgICAgICAgI21vZG1vYl9tZW51ID4gdWwgewogICAgICAgICAgICBtaW4taGVpZ2h0OiAyMDBweAogICAgICAgIH0KCiAgICAgICAgI21vZG1vYl9tZW51IGRpdi5zdWJtZW51IHsKICAgICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICAgICAgei1pbmRleDogMzE7CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZQogICAgICAgIH0KCiAgICAgICAgI21vZG1vYl9tZW51IGRpdi5zdWJtZW51IHVsIHsKICAgICAgICAgICAgLW1vei1ib3JkZXItcmFkaXVzOiA1cHg7CiAgICAgICAgICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogNXB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHggNXB4IDVweCA1cHg7CiAgICAgICAgICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDAgMDsKICAgICAgICAgICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDVweCA1cHg7CiAgICAgICAgICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiA1cHggNXB4OwogICAgICAgICAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAwIDA7CiAgICAgICAgICAgIHBhZGRpbmctdG9wOiAycHg7CiAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAycHg7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDsKICAgICAgICAgICAgdGV4dC1hbGlnbjogbGVmdDsKICAgICAgICAgICAgbWF4LWhlaWdodDogNTAwcHg7CiAgICAgICAgICAgIG92ZXJmbG93LXk6IGF1dG87CiAgICAgICAgICAgIGJvcmRlci1zdHlsZTogc29saWQ7CiAgICAgICAgICAgIGJvcmRlci13aWR0aDogMXB4CiAgICAgICAgfQoKICAgICAgICAjbW9kbW9iX21lbnUgLnJpZ2h0X2Fycm93IHsKICAgICAgICAgICAgYmFja2dyb3VuZDogIzAwMCB1cmwoaHR0cDovL213ZmIuc3RhdGljLnp5bmdhLmNvbS9td2ZiL2dyYXBoaWNzL21hcmtldHBsYWNlX3NtYWxsZXJfYXJyb3dfcmlnaHQuZ2lmKSBuby1yZXBlYXQgOTYlIDUwJQogICAgICAgIH0KCiAgICAgICAgI21vZG1vYl9tZW51IHVsIGxpIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDsKICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgICAgIGhlaWdodDogMTZweDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICBwYWRkaW5nOiA1cHggMTBweAogICAgICAgIH0KCiAgICAgICAgI21vZG1vYl9tZW51IHVsIGxpIHNwYW4gewogICAgICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IDE2cHggIWltcG9ydGFudDsKICAgICAgICAgICAgLW1vei1iYWNrZ3JvdW5kLXNpemU6IDE2cHggIWltcG9ydGFudAogICAgICAgIH0KCiAgICAgICAgI21vZG1vYl9tZW51IHVsIGxpLmltcG9ydGFudCBzcGFuIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGh0dHA6Ly9td2ZiLnN0YXRpYy56eW5nYS5jb20vbXdmYi9ncmFwaGljcy9jYXV0aW9uVG9wSWNvbi5wbmcpICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IDAgNTAlICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQgIWltcG9ydGFudAogICAgICAgIH0KCiAgICAgICAgI21vZG1vYl9tZW51IHVsIGxpOmhvdmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzMyMzIzMgogICAgICAgIH0KCiAgICAgICAgI21vZG1vYl9tZW51ICNsaWtlX2J1dHRvbiB7CiAgICAgICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjRkZGOwogICAgICAgICAgICBwYWRkaW5nOiA0cHggMCA0cHggMTZweAogICAgICAgIH0KCiAgICAgICAgI21vZG1vYl9tZW51IHsKICAgICAgICAgICAgd2lkdGg6IDE4MHB4OwogICAgICAgICAgICBtaW4td2lkdGg6IDE4MHB4OwogICAgICAgICAgICBib3JkZXI6IDJweCBzb2xpZCAjRkYwOwogICAgICAgICAgICBwYWRkaW5nLXRvcDogMzBweDsKICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDJweDsKICAgICAgICAgICAgYmFja2dyb3VuZDogdXJsKGRhdGE6aW1hZ2UvanBnO2Jhc2U2NCwvOWovNFFBWVJYaHBaZ0FBU1VrcUFBZ0FBQUFBQUFBQUFBQUFBUC9zQUJGRWRXTnJlUUFCQUFRQUFBQVpBQUQvNFFOdGFIUjBjRG92TDI1ekxtRmtiMkpsTG1OdmJTOTRZWEF2TVM0d0x3QThQM2h3WVdOclpYUWdZbVZuYVc0OUl1Kzd2eUlnYVdROUlsYzFUVEJOY0VObGFHbEllbkpsVTNwT1ZHTjZhMk01WkNJL1BpQThlRHA0YlhCdFpYUmhJSGh0Ykc1ek9uZzlJbUZrYjJKbE9tNXpPbTFsZEdFdklpQjRPbmh0Y0hSclBTSkJaRzlpWlNCWVRWQWdRMjl5WlNBMUxqQXRZekEyTUNBMk1TNHhNelEzTnpjc0lESXdNVEF2TURJdk1USXRNVGM2TXpJNk1EQWdJQ0FnSUNBZ0lDSStJRHh5WkdZNlVrUkdJSGh0Ykc1ek9uSmtaajBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TVRrNU9TOHdNaTh5TWkxeVpHWXRjM2x1ZEdGNExXNXpJeUkrSUR4eVpHWTZSR1Z6WTNKcGNIUnBiMjRnY21SbU9tRmliM1YwUFNJaUlIaHRiRzV6T25odGNFMU5QU0pvZEhSd09pOHZibk11WVdSdlltVXVZMjl0TDNoaGNDOHhMakF2YlcwdklpQjRiV3h1Y3pwemRGSmxaajBpYUhSMGNEb3ZMMjV6TG1Ga2IySmxMbU52YlM5NFlYQXZNUzR3TDNOVWVYQmxMMUpsYzI5MWNtTmxVbVZtSXlJZ2VHMXNibk02ZUcxd1BTSm9kSFJ3T2k4dmJuTXVZV1J2WW1VdVkyOXRMM2hoY0M4eExqQXZJaUI0YlhCTlRUcFBjbWxuYVc1aGJFUnZZM1Z0Wlc1MFNVUTlJbmh0Y0M1a2FXUTZORGszUVVJME56RTFOamsxTVRGRk1VRTRNekpFUTBVeE1EY3pPVFU0TWpjaUlIaHRjRTFOT2tSdlkzVnRaVzUwU1VROUluaHRjQzVrYVdRNk1UUTJORGxDTjBFMk16ZEVNVEZGTVVJeE0wVkNNVE14UkRRd09USkRNa01pSUhodGNFMU5Pa2x1YzNSaGJtTmxTVVE5SW5odGNDNXBhV1E2TVRRMk5EbENOemsyTXpkRU1URkZNVUl4TTBWQ01UTXhSRFF3T1RKRE1rTWlJSGh0Y0RwRGNtVmhkRzl5Vkc5dmJEMGlRV1J2WW1VZ1VHaHZkRzl6YUc5d0lFTlROU0JYYVc1a2IzZHpJajRnUEhodGNFMU5Pa1JsY21sMlpXUkdjbTl0SUhOMFVtVm1PbWx1YzNSaGJtTmxTVVE5SW5odGNDNXBhV1E2TXpReE56bERPREEzUXpZelJURXhNVUl5TlVGQk9FRXpORFEyTlVSRlF6RWlJSE4wVW1WbU9tUnZZM1Z0Wlc1MFNVUTlJbmh0Y0M1a2FXUTZORGszUVVJME56RTFOamsxTVRGRk1VRTRNekpFUTBVeE1EY3pPVFU0TWpjaUx6NGdQQzl5WkdZNlJHVnpZM0pwY0hScGIyNCtJRHd2Y21SbU9sSkVSajRnUEM5NE9uaHRjRzFsZEdFK0lEdy9lSEJoWTJ0bGRDQmxibVE5SW5JaVB6Ny83Z0FPUVdSdlltVUFaTUFBQUFBQi85c0FoQUFSRFEwTkRnMFNEZzRTR2hFUEVSb2ZGeElTRng4aUZ4Y1hGeGNpSXhzZUhSMGVHeU1qS1NvdEtpa2pOalk3T3pZMlFVRkJRVUZCUVVGQlFVRkJRVUZCQVJJUkVSUVdGQmdWRlJnWEV4Y1RGeDBYR1JrWEhTc2RIU0FkSFNzNEtDTWpJeU1vT0RJMUxTMHROVEk4UERnNFBEeEJRVUZCUVVGQlFVRkJRVUZCUVVIL3dBQVJDQUFmQUw0REFTSUFBaEVCQXhFQi84UUFsQUFBQWdNQkFRQUFBQUFBQUFBQUFBQUFCQVVBQXdZQkFnRUFBd0VCQVFBQUFBQUFBQUFBQUFBQUFBRURBZ1FGRUFBQkF3TURBZ01HQkFRSEFBQUFBQUFCQWdNRUFCRVNJUk1GTVZGQmtRWmhjYUVpTWhUd2diRkMwWElqRmZGU1lwTENRellSQUFJQ0FnQURCZ1VDQndBQUFBQUFBQUVDRVFNQUVpRXhFMEZSY1lFaUJHR1JvVUlqOE5HeFVtS0Nrak1VLzlvQURBTUJBQUlSQXhFQVB3RFN1eW1HWEcyM1hFb1c4Y1cwbnFvOWg1MWRTYm1Fb1ZPNHNHMlFmdUw5azJVZjBGWDh6TmZoUlVQUjhTcmNRbFlWcjhpcjMrTnE4TFNlbUFlTms4L0dNN05lVWZkaktwU2xNdDQ4NjVHTGxveUkrNWhZV0Nza2k5K3ZqWElVaVpPZVZOUXZiaHBDa1IyVC93QnBHbTRzK0d2NDdzMWtDU1FCcUcveTVEQ0Q5TUlhNU51UkFlbXRJV2hEUVdjWEJpVHRweThMNlVMeGNhZW9SNXprdGF3K2tyZlpXYm94V01rYlk2SnRwUzQ4aHpFemlISE50dGJhMHVoNXkrQ2tJU1BCT1E4TDBTT1FuUU9JYmRrQm5KYUcyNGdSbDRwNnVaYWFEWFNyR3NnRlYwbG4xaWR2TE5ha0FnUnhNZCthR3BXWVJQNUgrMjhnK1pHOGx2QU1TQWdJdW9rQnpBVzZEd05FeFp2SXg0UDl3NUp4QllEYWNXVXAvcUVtd1NvbndLdnhhcG1naWZVcDlXc2RwUE9CbVNwN3h6akgxU2tIRnpsVEpmM1Q4MUNNd1V0d1VLMEFQVEs5cnEvSHNwK1NPOVRzVFE2azhjUkVHTWxTcGNkNmx4M3JFakRKVXFYSGVwY2Q2SkdHWmYxTnpISlFKTExVVlcwMHB2TXJ3Q3NsWkVGTjFnalFBZE85TitGNUpQSndVdmtCTHFUZzZrZEFzZHZZZXRLZldPSlpoZzZndkVIM1dwVExWTDlOOGkraUlmNkVsQjJzdFJZOUQvTWcvald2WXJvcnY5clVpS2xkemJsVy9uME1OSjg4Z1dLdXhNbGVIbE9kNXJrSk1ublF4SGtLYlEwNGhwb3BKQUM3Z0tWWWY2cTJzNlcxQml1eW5yNE5DNUE2a25RQWU4MWc1RUJVTGk0SElrSGZjZUsxazliR3lteDVJdjhBblQzMWU2RjhmSFFoWHlQT2hXWGhpRW0xL085YXZwcnNmMmxhUjB3ejFNUnpQVEkyK2VDc1FIWTgrQitlTFhwZnFma21WVFk2WFdvdDdJYlpPSnQ3TGZPcjMwVHhuS2N3V3BQR09oWDl4UTF1UmxPMjNQQWxLcytwc2JpLzUxcTJtMm1tME5OV0RiYVFsQUhZQ3dyUFAvOEFzb3hUMERKenQvSTcxK0ZUcjl4WGF0bGZScFJha2EydUJ4L0h4QWJ2bnR4bENzSFppV0lCODhUUWwrcEhPVGViYWRVaWFFWlBKY3h0Z01iZktvRlA3aGJTbWp2SitwdU9HN05pb2ZZVDlhMEFkUGUyZmwvTk5YTnFDUFdEMXpiZFlBSHRzRUgvQUkxb3ppUVFiRUhRZzB2Yys2UU5WdFRReTJVMXVSckRjUnlERDZZSWhnd3pBaGlNQjR2bG8zS01sMW02Vm9zSFdsZlVnbjlRZTlIMWxPRmJhWjlUVDJvL3lzSmJVQWtmU0ZaTjZma2IxcTdqdlhOZlZWWDdoQUEzU2JwdnI5MnI4U3ViVXNWUGZ4R1ovbEliOHh5TTZ3Nkdsc0tVY2plNHl4MUgrMnEzZU1lY2lQTXJsdVBPT2hOaTRma1NVcUNyaE90dWxHWks3SHlxWks3SHlyZ1cyeFZWUVFBaGtla2QrM1B4eTI1NGZERnFPS2xJZlM5OXhtdDFDMFNuRGU5bGkzeUQyVVREajhrdzIwd3Q1dExEUjBLRWxUaTBnM3hPZWdvbkpYWStWVEpYWStWTnJyR0VNRWIrMGRuTCtPRzV5aVBCV3pBbFJkd0tMKzV0NldTamNUWUR4cXQzam5YdU1ZaXVPSTM0NUJRcTJUWnd1RXBJSTZXMDZVWGtyc2ZLcGtyc2ZLbDFySm1STys4eDJ4R0c1d0tSRjVLVkRjanV1TU5wS1VoQ0cwcUNMcFVsVnlUcU9uZ0tPWDl5bUVocG9OcmVTbEtTRmc3WnNBRmROYTVrcnNmS3BrcnNmS2tiR01TRmhXM2dDQlA2R0crQnRjV1hKQ0pNMVRaVzJRcERiS0EyMkNOZFQ5U3Z6cS9tWEZmWUt3dmx1TWl5VkZCT1RxRWtaRHVEYXJjajJQbFZFc1IzR0NtWFlNa2krUndGNy9McmNlTkc3TllqT2VDRWNCd0VEdUdKaVNDTVV1UFNHWTNJTUZLMkNGeDFOTWgwdVlJVzRsSnhjdmNaV09tbEh5V0VwNDJVNFczR0hXMjNGby9ydUxzcEtORlh5K0ZlZHJpeEhkYStUWUpUdkhQOTF4aGt2Sy9hMnRXTnRRVU1QSlJZc0xTUS9kWlVuR3h2Y2xSdHBXMnNVd1JzQ0hEZUloUjMvRDQ1aUQ5TXFrdkpZZ3g0elJkem1GSmNVZ3VPdWh0SUNuRkorbyt6VHZSZkRUVnZRa29keTNvNUxMbVlLVm5ENlZFSzErWk5qWGxJakI1dFNiYndieGExMTJyaStJdjA2YTE2YTJBODhwcTI4b3AzN2FtNEh5NUR3MHFiRldRckJtZHRqMy90R01UTStXTHZWcHloc0hzN2EvdlNmNFV4WlpqVDRFUlV4c09xUTJoWXp2ZkxFWDg2a2t4OXNmZGhHM2tMYnRzY3ZENnZHcnNsZGo1Vlkzbi9BSjZha0RLOUx1d2NHRDYrd1l0ZlV6SGlHQUVlR0IrcEViM0ZPVzZ0S1M0QjdqaWZncWdiSzVqMDZoQ05YNHhBQS96S2FGckQzcFBuVGQwamFYdWdiV0ozTS9weHRyZS9oVmNVeHd5QkRDZG5XMjNZcHY0Nml0MCs1NmRLSUYvSlRmMXEzN0FJOVNueHhNc3NUUEJsMU9LNGZxbERFUU5TV2xxa01qQVd0WmVPZ3lKNkh2cFJmRFJuMVBPOHJOdUpENHMyZy9zYlArSGxWeXpBKzVHNEd2dXZETEhjdit0RlpLN0h5cDNlNHFLdUtLdWliLzhBWXhiYmh6MVR1VW5CVmFSczIydkw5em1hbGNvaHIxSjkwdEpEY2M3YXJkU01Ta240MHdYemMva2JzOFhIVTJEb3FRN29FajRpL243cTdMWTRweWNoK1E0aEx5TERiVXBLY2orMHFTZGFhQlJ0b0RiM1ZXMzNQdGlsSldqcVdWVXJYK1ErZ2EvMC9kaVZYbHBhQXpUdzU1WHhmSHRjYXlRazdqem1ycnA2cVA4QUNqdDJoY2xkajVWTWxkajVWd0d5MDNkY3ROdXdmYjRqbDhzcEExMTdJalAvMlE9PSkgIzAwMCBuby1yZXBlYXQ7CiAgICAgICAgICAgIGNvbG9yOiAjRkZGOwogICAgICAgICAgICBsZWZ0OiAtMTgycHg7CiAgICAgICAgICAgIGJvcmRlci1jb2xvcjogI0ZGMAogICAgICAgIH0KCiAgICAgICAgI21vZG1vYl9tZW51IGRpdi5zdWJtZW51IHVsIHsKICAgICAgICAgICAgd2lkdGg6IDE3MHB4OwogICAgICAgICAgICBtaW4td2lkdGg6IDE3MHB4OwogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjRkYwOwogICAgICAgICAgICBib3JkZXItY29sb3I6ICNGRjAKICAgICAgICB9CgogICAgICAgICNtb2Rtb2JfbWVudSB1bCBsaSB7CiAgICAgICAgICAgIGNvbG9yOiAjRkZGCiAgICAgICAgfQoKICAgICAgICAjbW9kbW9iX21lbnUgdWwgbGk6aG92ZXIgewogICAgICAgICAgICBjb2xvcjogI0ZGRkZGRjsKICAgIDwvc3R5bGU+CiAgICA8ZGl2IGlkPSJtb2Rtb2JfbWVudSIgY2xhc3M9IiIgc3R5bGU9IiI+CiAgICAgICAgPHVsPgogICAgICAgIDwvdWw+CiAgICAgICAgPGRpdiBpZD0ibGlrZV9idXR0b24iIGNsYXNzPSJidXR0b25fYWN0aW9uIj4KCiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICAgIDxkaXYgaWQ9Im1vZG1vYl9tZW51X2Fycm93IiBjbGFzcz0ibWVudV9hcnJvdyI+PC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJjbGVhciI+PC9kaXY+Cgo8L2Rpdj4=";var Menu={items:[],div:"#modmob_menu",init:function(){try{$(Base64.decode(MOD.mainMenu)).prependTo($("#container").parent())}catch(t){console.log("e",t),console.log("MOD.mainMenu",MOD.mainMenu)}this.items.forEach(function(t){Menu.add(t)}),$(Menu.div).mouseleave(this.hide),$(Menu.div).mouseenter(this.show),$("#modmob_menu_arrow").mouseenter(this.show),console.log("testing scroll"),$(".sticky").Stickyfill()},add:function(t){var e=$("<li>").text(t.text).click(t.click);e.appendTo($("ul",Menu.div))},show:function(){$(Menu.div).stop().animate({left:"0px"},"normal")},hide:function(){$(Menu.div).stop().animate({left:-170},"normal")}},menuItem={text:"",click:""},jobs=create(menuItem);jobs.text="Jobs",jobs.click=function(){return MobWars.HUD.navigateTo("/jobs/","hud_jobs")},Menu.items.push(jobs),MOD.Settings={},MOD.jobsCompleted=[],MOD.jobs=function(){console.log("running jobs"),$(".mid").each(function(){if(/dojob/i.test($(this).attr("onclick"))&&0==$(this).hasClass("auto-button")){$(this).addClass("auto-button");var t,e=$(this).parent().parent();null!==(t=/\d+?/.exec($(this).attr("onclick")))&&(t=parseInt(t[0]));var n=$("#job_"+t),o=parseInt($(".progBar > .fill",n).css("width")),i=parseInt($(".progBar > .fill",n).css("max-width")),r=parseInt($(".xp",n).text()),a=parseInt($("#job_req_energy_"+t,n).text()),c=(parseFloat(o)/parseFloat(i)*100).toFixed(0),l=$("<div>").text("ratio : ("+(r/a).toFixed(2)+")").css({color:"green","font-weight":"bold"});MOD.jobsCompleted[t]=c,console.log("*************************************"),console.log("jobNumber",t),console.log("max_process",i),console.log("current_process",o),console.log("complete",c),console.log("*************************************");var g=$(".orangeBtn.mw-ui-btn",e).clone();$(".all-button-text",g).text("Auto Job"),g.attr("job_number",t),g.append(l),g.attr("onclick",""),g.click(function(){var t=$(this).attr("job_number");console.log("jobNumber",t),console.log("  MOD.jobsCompleted[jobNumber]",MOD.jobsCompleted[t]),alert("new click check console")}),e.append(g)}})},MOD.request=function(){function process_request(index){index<requests_run.length?setTimeout(function(){console.log("processing",requests_run[index]),eval(requests_run[index]),process_request(++index)},500):(console.log("finished processing requests"),requests_run=[])}var requests_run=[],$request_box=$(".modal.request_dialog_modal");if(!$("#accept_all",$request_box).length<=0)return!1;var $tab=$("<div>").attr("id","accept_all").addClass("tab tab_inactive").text("Accept ALL").click(function(){var t=$(".tab.tab_active").eq(0).attr("name").toLowerCase();"all"==t&&(t="category_content"),requests_run=[],$(".request."+t).each(function(t,e){var n=($(e).attr("request_id"),$(".mw-ui-btn",e).parent());0==/return false/.test(n.attr("onclick"))&&requests_run.push(n.attr("onclick"))}),console.log("requests_run",requests_run),process_request(0)});$(".category_nav",$request_box).append($tab)},"undefined"==typeof chromeFileSystem&&("undefined"!=typeof chrome&&console.log("chromeFileSystem not passed"),chromeFileSystem=!1),MOD.isLoaded=function(t){var e=10,n=0,o=setInterval(function(){"undefined"!=typeof window.jQuery&&"undefined"!=typeof window.FB?(clearInterval(o),$=window.jQuery,console.log("jQuery Loaded "+$.fn.jquery),"function"==typeof t&&t()):(n++,n>e&&(console.log("failed to load"),clearInterval(o),"function"==typeof t&&t(!1)))},1500)},MOD.Ajax=function(){console.log("ajax loaded"),$(document).ajaxComplete(function(e,r,o){if(console.log("e",e),console.log("r",r),console.log("o",o),/jobs/i.test(o.url))return MOD.jobs();if(/request_dialog/i.test(o.url))return MOD.request();var raw_result=r.responseText;raw_result||(raw_result="");var split_data=raw_result.split("[[[JS_CALLBACK]]]",2),javascript_content="",inline_js="",html_content="";if(2!=split_data.length)trace("no javascript in callback"),html_content=raw_result;else{if(html_content=split_data[0],javascript_content=split_data[1],javascript_content.indexOf("[[[INLINE_JS]]]")>=0){var jssplit=javascript_content.split("[[[INLINE_JS]]]",2);javascript_content=jssplit[0],inline_js=jssplit[1]}if(javascript_content)try{eval(""+javascript_content)}catch(ex){trace("exection in server javascript",ex),trace(javascript_content)}}if(r.success)try{console.log("tring success"),r.success&&r.success(html_content)}catch(ex){trace("error in opts.success handler from Server.request call.",ex)}if(r.complete)try{console.log("tring complete"),r.complete&&r.complete(!0,html_content)}catch(ex){trace("error in opts.complete handler from Server.request call.",ex)}if(inline_js.length>0)try{console.log("tring inline"),eval(inline_js)}catch(ex){trace("error in inline javascript handler from Server.request call.",ex),trace(inline_js)}return MobWars.Game.isNativeMobileApp()&&refreshScroll()})},MOD.Start=function(){console.log("starting MOD"),MOD.isLoaded(function(){$(document).ready(function(){console.log("injecting menu"),Menu.init(),MOD.Ajax()})})},function(){console.log("launch.js loaded");try{var t=function(){var t=document.createElement("div");return t.setAttribute("onclick","return document.location.href;"),t.onclick()};global.location=document.location.href,"undefined"!=typeof chrome&&"undefined"==typeof unsafewindow&&(window.unsafeWindow||(unsafeWindow=function(){var t=document.createElement("p");return t.setAttribute("onclick","return window;"),t.onclick()}())),/index.php|do.php/.test(global.location)||document.getElementById("container-content")?document.getElementById("container-content")?(console.log("MOD.start"),MOD.Start()):console.log("Failed to launch"):console.log("global.location.href",t())}catch(e){console.log("launch.js",e)}}()}+")(jQuery);";if("undefined"!=typeof GM_deleteValue){console.log("Greasemonkey detected");var UserProxy=function(){var t,e,n;return!function(o){function i(t,e){return V.call(t,e)}function r(t,e){var n,o,i,r,a,c,l,g,s,d,u,I=e&&e.split("/"),p=m.map,f=p&&p["*"]||{};if(t&&"."===t.charAt(0))if(e){for(I=I.slice(0,I.length-1),t=t.split("/"),a=t.length-1,m.nodeIdCompat&&U.test(t[a])&&(t[a]=t[a].replace(U,"")),t=I.concat(t),s=0;s<t.length;s+=1)if(u=t[s],"."===u)t.splice(s,1),s-=1;else if(".."===u){if(1===s&&(".."===t[2]||".."===t[0]))break;s>0&&(t.splice(s-1,2),s-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((I||f)&&p){for(n=t.split("/"),s=n.length;s>0;s-=1){if(o=n.slice(0,s).join("/"),I)for(d=I.length;d>0;d-=1)if(i=p[I.slice(0,d).join("/")],i&&(i=i[o])){r=i,c=s;break}if(r)break;!l&&f&&f[o]&&(l=f[o],g=s)}!r&&l&&(r=l,c=g),r&&(n.splice(0,c,r),t=n.join("/"))}return t}function a(t,e){return function(){return I.apply(o,R.call(arguments,0).concat([t,e]))}}function c(t){return function(e){return r(e,t)}}function l(t){return function(e){C[t]=e}}function g(t){if(i(A,t)){var e=A[t];delete A[t],h[t]=!0,u.apply(o,e)}if(!i(C,t)&&!i(h,t))throw new Error("No "+t);return C[t]}function s(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function d(t){return function(){return m&&m.config&&m.config[t]||{}}}var u,I,p,f,C={},A={},m={},h={},V=Object.prototype.hasOwnProperty,R=[].slice,U=/\.js$/;p=function(t,e){var n,o=s(t),i=o[0];return t=o[1],i&&(i=r(i,e),n=g(i)),i?t=n&&n.normalize?n.normalize(t,c(e)):r(t,e):(t=r(t,e),o=s(t),i=o[0],t=o[1],i&&(n=g(i))),{f:i?i+"!"+t:t,n:t,pr:i,p:n}},f={require:function(t){return a(t)},exports:function(t){var e=C[t];return"undefined"!=typeof e?e:C[t]={}},module:function(t){return{id:t,uri:"",exports:C[t],config:d(t)}}},u=function(t,e,n,r){var c,s,d,u,I,m,V=[],R=typeof n;if(r=r||t,"undefined"===R||"function"===R){for(e=!e.length&&n.length?["require","exports","module"]:e,I=0;I<e.length;I+=1)if(u=p(e[I],r),s=u.f,"require"===s)V[I]=f.require(t);else if("exports"===s)V[I]=f.exports(t),m=!0;else if("module"===s)c=V[I]=f.module(t);else if(i(C,s)||i(A,s)||i(h,s))V[I]=g(s);else{if(!u.p)throw new Error(t+" missing "+s);u.p.load(u.n,a(r,!0),l(s),{}),V[I]=C[s]}d=n?n.apply(C[t],V):void 0,t&&(c&&c.exports!==o&&c.exports!==C[t]?C[t]=c.exports:d===o&&m||(C[t]=d))}else t&&(C[t]=n)},t=e=I=function(t,e,n,i,r){if("string"==typeof t)return f[t]?f[t](e):g(p(t,e).f);if(!t.splice){if(m=t,m.deps&&I(m.deps,m.callback),!e)return;e.splice?(t=e,e=n,n=null):t=o}return e=e||function(){},"function"==typeof n&&(n=i,i=r),i?u(o,t,e,n):setTimeout(function(){u(o,t,e,n)},4),I},I.config=function(t){return I(t)},t._defined=C,n=function(t,e,n){e.splice||(n=e,e=[]),i(C,t)||i(A,t)||(A[t]=[t,e,n])},n.amd={jQuery:!0}}(),n("../vendor/almond",function(){}),n("utils",[],function(){function t(t,e){var n=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,n.concat(Array.prototype.slice.call(arguments)))}}function e(t,e){if(o(t))for(var n=0;n<t.length&&e(n,t[n])!==!0;n++);else for(var i in t)if(t.hasOwnProperty(i)&&e(i,t[i])===!0)break}function n(t){var n=[];return e(t,function(t){n.push(t)}),n}function o(t){return"[object Array]"===Object.prototype.toString.call(t)}function i(t,e){for(var n=0,o=e.length;o>n;n++)if(e[n]===t)return!0;return!1}function r(t,e){for(var n=0,o=e.length;o>n;n++)if(e[n]===t)return n;return-1}function a(t,e){return o(t,e)?r(t,e):void 0}function c(t,e){return Math.random()*(e-t)+t}function l(t,e){return Math.floor(Math.random()*(e-t))+t}function g(t,e){"string"!=typeof t&&(t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_"),"number"!=typeof e&&(e=64);for(var n=t.length,o="",i=0;e>i;i++)o+=t[l(0,n)];return o}function s(t,e){for(t=t.replace(/[^0-9a-zA-Z_\$]/g,"");/$[0-9]/g.test(t);){if(""===t)return e;t=t.substring(1)}return t}return{bind:t,each:e,getKeys:n,isArray:o,inArray:i,indexOf:a,indexOfArray:r,getRandomArbitrary:c,getRandomInt:l,generateToken:g,escapeECMAVariable:s}}),n("support",[],function(){function t(){try{var t=document.createEvent("CustomEvent");return t&&"function"==typeof t.initCustomEvent?(t.initCustomEvent(e,!0,!0,{mod:e}),!0):!1}catch(t){return!1}}var e="support.test";return{CustomEvent:t}}),n("CustomEvent",["utils"],function(t){function e(e,o){r[e]||(r[e]=[],window.addEventListener(e,t.bind(null,n,e,r[e]),!1)),r[e].push(o)}function n(t,e,n){n=n||window.event;var o=JSON.parse(n.detail);if("object"==typeof o.detail&&o.token!==i){for(var r=o.detail,a=0,c=e.length;c>a;a++)e[a](r);n&&"function"==typeof n.stopPropagation&&n.stopPropagation()}}function o(t,e){var n=document.createEvent("CustomEvent");n.initCustomEvent(t,!0,!0,JSON.stringify({detail:e,token:i})),document.documentElement.dispatchEvent(n)}var i=t.generateToken(),r={};return{addEventListener:e,fireEvent:o}}),n("Message",["utils"],function(t){function e(e,n){i(),c[e]||(c[e]=[]);var o=t.bind(null,n,e);c[e].push(o)}function n(t,e){window.postMessage(JSON.stringify({token:a,event:t,detail:e}),"*")}function o(e){e=e||window.event;var n=JSON.parse(e.data);if("string"==typeof n.event&&"object"==typeof n.detail&&n.token!==a&&t.isArray(c[n.event])){
for(var o=c[n.event],i=n.detail,r=0,l=o.length;l>r;r++)o(i);e&&"function"==typeof e.stopPropagation&&e.stopPropagation()}}function i(){r||window.addEventListener("message",o,!1)}var r=!1,a=t.generateToken(),c={};return{addEventListener:e,fireEvent:n}}),n("memFunction",["utils","CustomEvent","Message","support"],function(t,e,n,o){function i(e,n,o){if("object"==typeof e)t.each(e,function(t,a){if("object"==typeof a)e[t]=i(a,n,o);else if("string"==typeof a)e[t]=r(a);else if("function"==typeof a){var c=s.push(a)-1;e[t]="${"+n+"/"+o+"/"+c+"}"}});else if("string"==typeof value)e=r(e);else if("function"==typeof e){var a=s.push(e)-1;e="${"+n+"/"+o+"/"+a+"}"}return e}function r(t){return/^\$[\\]*\{([0-9a-zA-Z\.\-_\/\\]+)\}$/g.test(t)?"$\\"+t.substring(1):t}function a(e,n,o){if(/^\$\{([0-9a-zA-Z\.\-_]+)\/([0-9a-zA-Z\.\-_]+)\/([0-9]+)\}$/g.test(e)){var i=e.substring(2,e.length-1).split("/"),r=parseInt(i[2],10);return i[0]===n&&i[1]===o?s[r]:t.bind(null,l,i[0]+"-"+i[1],r)}return/^\$[\\]+\{([0-9a-zA-Z\.\-_\/\\]+)\}$/g.test(e)?"$"+e.substring(2):e}function c(e,n,o){if("object"==typeof e)t.each(e,function(t,i){if("object"==typeof i)e[t]=c(i,n,o);else if("string"==typeof i)e[t]=a(i,n,o);else if("function"==typeof i)throw Error("Function was found!")});else{if("string"==typeof value)return a(value,n,o);if("function"==typeof value)throw Error("Function was found!")}return e}function l(t,i){var r=Array.prototype.slice.call(arguments,2);return o.CustomEvent?e.fireEvent(t,{callbackId:i,args:r,mem:!0}):n.fireEvent(t,{callbackId:i,args:r,mem:!0})}function g(t){return s[t]}var s=[];return{parseObject:i,restoreObject:c,getCacheFunction:g}}),n("Connection",["CustomEvent","Message","utils","support","memFunction"],function(t,e,n,o,i){function r(i,r){o.CustomEvent?t.addEventListener(i+"-content",n.bind(null,a,r,i,"content")):e.addEventListener(i+"-content",n.bind(null,a,r,i,"content"))}function a(t,e,o,i){setTimeout(n.bind(null,c,t,e,o,i),4)}function c(r,a,c,l){var g=n.getKeys(r),s=n.indexOfArray(l.method,g);if(!(s>-1))throw"Method "+l.method+" has not been set!";var d=r[g[s]].apply(null,i.restoreObject(l.args,a,c));if("number"==typeof l.id){var u=i.parseObject(d,a,c),l={callbackId:l.id,args:[u]};o.CustomEvent?t.fireEvent(a+"-page",l):e.addEventListener(a+"-page",l)}}function l(t){this.token=n.generateToken(),this.functions={},this.namespace="UserProxy",this.pageProxy=t}return l.prototype.setFunctions=function(t){this.functions=t},l.prototype.setNamespace=function(t){this.namespace=t},l.prototype.inject=function(t){var e=document.body||document.head||document.documentElement;if(!e)throw"Parent was not found!";var o=document.createElement("script");o.setAttribute("type","text/javascript");var i=[";(function(unsafeWindow){var "+n.escapeECMAVariable(this.namespace)+" = ("+this.pageProxy+')("'+this.token+'", '+JSON.stringify(n.getKeys(this.functions))+", this);","})(window);"];"string"==typeof t&&(t="function(){"+t+"}"),r(this.token,this.functions),o.appendChild(document.createTextNode(i[0]+"("+t+")();"+i[1])),e.appendChild(o),e.removeChild(o)},l}),n("main",["utils","support","Connection"],function(t,e,n){function o(t){var e=new n(l);e.setFunctions(a),e.setNamespace(c),e.inject(t)}function i(t){a=t}function r(t){c=t}var a={},c="UserProxy",l=function(t,e,n){var o,i,r;return!function(t){function e(t,e){return V.call(t,e)}function n(t,e){var n,o,i,r,a,c,l,g,s,d,u,I=e&&e.split("/"),p=m.map,f=p&&p["*"]||{};if(t&&"."===t.charAt(0))if(e){for(I=I.slice(0,I.length-1),t=t.split("/"),a=t.length-1,m.nodeIdCompat&&U.test(t[a])&&(t[a]=t[a].replace(U,"")),t=I.concat(t),s=0;s<t.length;s+=1)if(u=t[s],"."===u)t.splice(s,1),s-=1;else if(".."===u){if(1===s&&(".."===t[2]||".."===t[0]))break;s>0&&(t.splice(s-1,2),s-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((I||f)&&p){for(n=t.split("/"),s=n.length;s>0;s-=1){if(o=n.slice(0,s).join("/"),I)for(d=I.length;d>0;d-=1)if(i=p[I.slice(0,d).join("/")],i&&(i=i[o])){r=i,c=s;break}if(r)break;!l&&f&&f[o]&&(l=f[o],g=s)}!r&&l&&(r=l,c=g),r&&(n.splice(0,c,r),t=n.join("/"))}return t}function a(e,n){return function(){return I.apply(t,R.call(arguments,0).concat([e,n]))}}function c(t){return function(e){return n(e,t)}}function l(t){return function(e){C[t]=e}}function g(n){if(e(A,n)){var o=A[n];delete A[n],h[n]=!0,u.apply(t,o)}if(!e(C,n)&&!e(h,n))throw new Error("No "+n);return C[n]}function s(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function d(t){return function(){return m&&m.config&&m.config[t]||{}}}var u,I,p,f,C={},A={},m={},h={},V=Object.prototype.hasOwnProperty,R=[].slice,U=/\.js$/;p=function(t,e){var o,i=s(t),r=i[0];return t=i[1],r&&(r=n(r,e),o=g(r)),r?t=o&&o.normalize?o.normalize(t,c(e)):n(t,e):(t=n(t,e),i=s(t),r=i[0],t=i[1],r&&(o=g(r))),{f:r?r+"!"+t:t,n:t,pr:r,p:o}},f={require:function(t){return a(t)},exports:function(t){var e=C[t];return"undefined"!=typeof e?e:C[t]={}},module:function(t){return{id:t,uri:"",exports:C[t],config:d(t)}}},u=function(n,o,i,r){var c,s,d,u,I,m,V=[],R=typeof i;if(r=r||n,"undefined"===R||"function"===R){for(o=!o.length&&i.length?["require","exports","module"]:o,I=0;I<o.length;I+=1)if(u=p(o[I],r),s=u.f,"require"===s)V[I]=f.require(n);else if("exports"===s)V[I]=f.exports(n),m=!0;else if("module"===s)c=V[I]=f.module(n);else if(e(C,s)||e(A,s)||e(h,s))V[I]=g(s);else{if(!u.p)throw new Error(n+" missing "+s);u.p.load(u.n,a(r,!0),l(s),{}),V[I]=C[s]}d=i?i.apply(C[n],V):void 0,n&&(c&&c.exports!==t&&c.exports!==C[n]?C[n]=c.exports:d===t&&m||(C[n]=d))}else n&&(C[n]=i)},o=i=I=function(e,n,o,i,r){if("string"==typeof e)return f[e]?f[e](n):g(p(e,n).f);if(!e.splice){if(m=e,m.deps&&I(m.deps,m.callback),!n)return;n.splice?(e=n,n=o,o=null):e=t}return n=n||function(){},"function"==typeof o&&(o=i,i=r),i?u(t,e,n,o):setTimeout(function(){u(t,e,n,o)},4),I},I.config=function(t){return I(t)},o._defined=C,r=function(t,n,o){n.splice||(o=n,n=[]),e(C,t)||e(A,t)||(A[t]=[t,n,o])},r.amd={jQuery:!0}}(),r("../vendor/almond",function(){}),r("support",[],function(){function t(){try{var t=document.createEvent("CustomEvent");return t&&"function"==typeof t.initCustomEvent?(t.initCustomEvent(e,!0,!0,{mod:e}),!0):!1}catch(t){return!1}}var e="support.test";return{CustomEvent:t}}),r("utils",[],function(){function t(t,e){var n=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,n.concat(Array.prototype.slice.call(arguments)))}}function e(t,e){if(o(t))for(var n=0;n<t.length&&e(n,t[n])!==!0;n++);else for(var i in t)if(t.hasOwnProperty(i)&&e(i,t[i])===!0)break}function n(t){var n=[];return e(t,function(t){n.push(t)}),n}function o(t){return"[object Array]"===Object.prototype.toString.call(t)}function i(t,e){for(var n=0,o=e.length;o>n;n++)if(e[n]===t)return!0;return!1}function r(t,e){for(var n=0,o=e.length;o>n;n++)if(e[n]===t)return n;return-1}function a(t,e){return o(t,e)?r(t,e):void 0}function c(t,e){return Math.random()*(e-t)+t}function l(t,e){return Math.floor(Math.random()*(e-t))+t}function g(t,e){"string"!=typeof t&&(t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_"),"number"!=typeof e&&(e=64);for(var n=t.length,o="",i=0;e>i;i++)o+=t[l(0,n)];return o}function s(t,e){for(t=t.replace(/[^0-9a-zA-Z_\$]/g,"");/$[0-9]/g.test(t);){if(""===t)return e;t=t.substring(1)}return t}return{bind:t,each:e,getKeys:n,isArray:o,inArray:i,indexOf:a,indexOfArray:r,getRandomArbitrary:c,getRandomInt:l,generateToken:g,escapeECMAVariable:s}}),r("CustomEvent",["utils"],function(t){function e(e,o){r[e]||(r[e]=[],window.addEventListener(e,t.bind(null,n,e,r[e]),!1)),r[e].push(o)}function n(t,e,n){n=n||window.event;var o=JSON.parse(n.detail);if("object"==typeof o.detail&&o.token!==i){for(var r=o.detail,a=0,c=e.length;c>a;a++)e[a](r);n&&"function"==typeof n.stopPropagation&&n.stopPropagation()}}function o(t,e){var n=document.createEvent("CustomEvent");n.initCustomEvent(t,!0,!0,JSON.stringify({detail:e,token:i})),document.documentElement.dispatchEvent(n)}var i=t.generateToken(),r={};return{addEventListener:e,fireEvent:o}}),r("Message",["utils"],function(t){function e(e,n){i(),c[e]||(c[e]=[]);var o=t.bind(null,n,e);c[e].push(o)}function n(t,e){window.postMessage(JSON.stringify({token:a,event:t,detail:e}),"*")}function o(e){e=e||window.event;var n=JSON.parse(e.data);if("string"==typeof n.event&&"object"==typeof n.detail&&n.token!==a&&t.isArray(c[n.event])){for(var o=c[n.event],i=n.detail,r=0,l=o.length;l>r;r++)o(i);e&&"function"==typeof e.stopPropagation&&e.stopPropagation()}}function i(){r||window.addEventListener("message",o,!1)}var r=!1,a=t.generateToken(),c={};return{addEventListener:e,fireEvent:n}}),r("memFunction",["utils","CustomEvent","Message","support"],function(t,e,n,o){function i(e,n,o){if("object"==typeof e)t.each(e,function(t,a){if("object"==typeof a)e[t]=i(a,n,o);else if("string"==typeof a)e[t]=r(a);else if("function"==typeof a){var c=s.push(a)-1;e[t]="${"+n+"/"+o+"/"+c+"}"}});else if("string"==typeof value)e=r(e);else if("function"==typeof e){var a=s.push(e)-1;e="${"+n+"/"+o+"/"+a+"}"}return e}function r(t){return/^\$[\\]*\{([0-9a-zA-Z\.\-_\/\\]+)\}$/g.test(t)?"$\\"+t.substring(1):t}function a(e,n,o){if(/^\$\{([0-9a-zA-Z\.\-_]+)\/([0-9a-zA-Z\.\-_]+)\/([0-9]+)\}$/g.test(e)){var i=e.substring(2,e.length-1).split("/"),r=parseInt(i[2],10);return i[0]===n&&i[1]===o?s[r]:t.bind(null,l,i[0]+"-"+i[1],r)}return/^\$[\\]+\{([0-9a-zA-Z\.\-_\/\\]+)\}$/g.test(e)?"$"+e.substring(2):e}function c(e,n,o){if("object"==typeof e)t.each(e,function(t,i){if("object"==typeof i)e[t]=c(i,n,o);else if("string"==typeof i)e[t]=a(i,n,o);else if("function"==typeof i)throw Error("Function was found!")});else{if("string"==typeof value)return a(value,n,o);if("function"==typeof value)throw Error("Function was found!")}return e}function l(t,i){var r=Array.prototype.slice.call(arguments,2);return o.CustomEvent?e.fireEvent(t,{callbackId:i,args:r,mem:!0}):n.fireEvent(t,{callbackId:i,args:r,mem:!0})}function g(t){return s[t]}var s=[];return{parseObject:i,restoreObject:c,getCacheFunction:g}}),r("proxy",["support","CustomEvent","Message","utils","memFunction"],function(o,i,r,a,c){function l(e){if("number"==typeof e.callbackId&&a.isArray(e.args)&&e.mem){var n=c.restoreObject(e.args,t,"page"),o=c.getCacheFunction(e.callbackId);"function"==typeof o&&o.apply(null,n)}else{if("number"!=typeof e.callbackId||!a.isArray(e.args))throw Error("Malformed detail!",e);var n=c.restoreObject(e.args,t,"page");"function"==typeof p[e.callbackId]&&p[e.callbackId].apply(null,n)}}function g(e,n){if(!d(e))throw Error(e+" is not a defined function!");if("function"!=typeof n)throw Error("The callback is not a function!");var a=p.push(n)-1,l=Array.prototype.slice.call(arguments,2);return function(){l=l.concat(Array.prototype.slice.call(arguments,0)),l=c.parseObject(l,t,"page");var n={method:e,args:l,id:a};o.CustomEvent?i.fireEvent(t+"-content",n):r.fireEvent(t+"-content",n)}}function s(e,n){function a(t){clearTimeout(s),"function"==typeof t&&(g.id=p.push(t)-1),l()}function l(){o.CustomEvent?i.fireEvent(t+"-content",g):r.fireEvent(t+"-content",g)}if(n=Array.prototype.slice.call(arguments,1),!d(e))throw Error(e+" is not a defined function!");n=c.parseObject(n,t,"page");var g={method:e,args:n},s=setTimeout(l,4);return{then:a}}function d(t){return a.indexOfArray(t,e)>-1}function u(t){if(d(t))return a.bind(null,s,t);throw Error(t+" is not defined!")}function I(){return JSON.parse(JSON.stringify(e))}var p=[];o.CustomEvent?i.addEventListener(t+"-page",l):r.addEventListener(t+"-page",l);for(var f=0,C=e.length;C>f;f++)n[e[f]]=a.bind(null,s,e[f]);return{call:s,prepareCall:g,getFunction:u,isDefined:d,listFunctions:I}}),i("proxy")};return{connect:o,setFunctions:i,setNamespace:r}}),e("main")}();UserProxy.setFunctions({GM_getValue:GM_getValue,GM_setValue:GM_setValue,GM_xmlhttpRequest:GM_xmlhttpRequest,GM_deleteValue:GM_deleteValue}),UserProxy.connect(modWrapper)}